<languageVersion: 1.0;>

kernel black2transparent
<
    namespace : "zero.shaders";
    vendor : "zero";
    version : 2;
    description : "black2transparent";
>
{
    input image4 src;
    output pixel4 dst;

    void evaluatePixel()
    {
        dst=sampleNearest(src,outCoord());
        dst.a=(dst.r+dst.g+dst.b)/3.0;
    }
}