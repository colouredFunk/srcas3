<languageVersion: 1.0;>

kernel pixelate
<
    namespace : "zero.shaders";
    vendor : "zero";
    version : 2;
    description : "black2transparent";
>
{
    input image4 bg;
    input image4 src;
    output pixel4 dst;

    void evaluatePixel()
    {
        pixel4 bgP=sampleNearest(bg,outCoord());
        
        dst = sampleNearest(src,outCoord());
        dst.r=bgP.r;
    }
}